@{
    ForumInit init = (ForumInit)ViewData["init"];
    string result_info = "ERROR=UNKNOWN";
    if (!((bool)ViewData["is_post"]))
    {
        result_info = "ERROR=NOT_POST";
        goto complete;
    }
    string typeQuery = init.Request.Query["qtype"];
    if (typeQuery == null || typeQuery == "")
    {
        result_info = "ERROR=NO_QUERY";
        goto complete;
    }
    if (typeQuery == "login")
    {
        // TODO
    }
    // TODO: APIs
    // TODO: better way to neatly not brace-spam than a goto?!
complete:
    result_info += ";";
}
@@Html.Raw(result_info)
